<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <title>Bot Employee - Tarefas</title>
    <style>
        body {
            width: 630px;
        }
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        .notification {
            margin-top: 1rem;
            display: none;
        }
        .notification.show {
            display: block;
        }
        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3273dc;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .progress-container {
            margin-top: 1rem;
            display: none;
        }
        .progress-container.active {
            display: block;
        }
        .progress-step {
            padding: 0.5rem;
            margin: 0.25rem 0;
            border-radius: 4px;
            background-color: #f5f5f5;
            transition: all 0.3s ease;
        }
        .progress-step.active {
            background-color: #e3f2fd;
            border-left: 3px solid #3273dc;
        }
        .progress-step.completed {
            background-color: #e8f5e9;
            border-left: 3px solid #48c774;
        }
        .progress-step.error {
            background-color: #ffebee;
            border-left: 3px solid #f14668;
        }
        .rotina-item {
            margin-bottom: 0.75rem;
            padding: 0.75rem;
            border: 1px solid #dbdbdb;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        .rotina-item.running {
            background-color: #e3f2fd;
            border-color: #3273dc;
        }
        .rotina-item.completed {
            background-color: #e8f5e9;
            border-color: #48c774;
        }
        .rotina-item.error {
            background-color: #ffebee;
            border-color: #f14668;
        }
    </style>
    <script src="../js/api.js"></script>
    <script src="../js/tarefas.js"></script>
</head>

<body>
    <main class="container animate__zoomIn pb-5 px-5">

        <!--Menu-->
        <h1 class="is-size-3 has-text-link mx-4 mb-3 has-text-centered">Bot Employee</h1>
        <div class="fixed-grid has-4-cols">
            <nav class="grid buttons are-normal">
                <button class="column button" data-nav="index.html">Home</button>
                <button class="column button" data-nav="tarefas.html">Tarefas</button>
                <button class="column button" data-nav="analisticos.html">Anal√≠ticos</button>
                <button class="column button" data-nav="sobre.html">Sobre</button>
            </nav>
        </div>

        <!--Instru√ß√µes de Uso-->
        <div class="message is-info">
            <div class="message-header">
                <label>üìñ Como Usar</label>
            </div>
            <div class="message-body">
                <p><strong>1. Selecione as Rotinas:</strong> Marque os checkboxes das automa√ß√µes que deseja executar.</p>
                <p><strong>2. Disparar Automa√ß√µes:</strong> Clique no bot√£o "Disparar automa√ß√µes" para iniciar o processo.</p>
                <p><strong>3. Acompanhe o Progresso:</strong> O sistema mostrar√° o status de cada etapa em tempo real.</p>
                <p><strong>4. Verifique os Relat√≥rios:</strong> Acesse a aba "Anal√≠ticos" para ver os relat√≥rios completos das execu√ß√µes.</p>
                <hr style="margin: 0.75rem 0;">
                <p><small><strong>‚ö†Ô∏è Requisitos:</strong> Certifique-se de ter conex√£o est√°vel (m√≠nimo 10 Mbps) e que n√£o h√° manuten√ß√£o nos sites utilizados.</small></p>
            </div>
        </div>

        <!-- Lista de rotinas automatizadas -->
        <div class="box mt-5">
            <h2 class="is-size-4 has-text-link mb-3">Rotinas Automatizadas</h2>

            <div id="rotinas-container">
                <div class="rotina-item" data-rotina="follow-up">
                    <div class="field">
                        <input id="checkbox-follow-up" type="checkbox" name="rotinas" value="follow-up" />
                        <label for="checkbox-follow-up"><strong>Fazer follow up</strong></label>
                    </div>
                    <div class="rotina-status" style="display: none; margin-top: 0.5rem; font-size: 0.875rem;"></div>
                </div>

                <div class="rotina-item" data-rotina="notas-fiscais">
                    <div class="field">
                        <input id="checkbox-notas-fiscais" type="checkbox" name="rotinas" value="notas-fiscais" />
                        <label for="checkbox-notas-fiscais"><strong>Registrar notas fiscais</strong></label>
                    </div>
                    <div class="rotina-status" style="display: none; margin-top: 0.5rem; font-size: 0.875rem;"></div>
                </div>

                <div class="rotina-item" data-rotina="automacao-extra">
                    <div class="field">
                        <input id="checkbox-automacao-extra" type="checkbox" name="rotinas" value="automacao-extra" />
                        <label for="checkbox-automacao-extra"><strong>Automa√ß√£o extra</strong></label>
                    </div>
                    <div class="rotina-status" style="display: none; margin-top: 0.5rem; font-size: 0.875rem;"></div>
                </div>
            </div>

            <div class="buttons mt-4">
                <button id="btn-disparar" class="button is-link">üöÄ Disparar automa√ß√µes</button>
                <button id="btn-limpar" class="button is-light">Limpar sele√ß√£o</button>
            </div>

            <!-- Progresso das automa√ß√µes -->
            <div id="progress-container" class="progress-container">
                <h3 class="is-size-5 mb-3 mt-4">üìä Progresso da Execu√ß√£o</h3>
                <div id="progress-steps"></div>
            </div>

            <!-- Notifica√ß√£o de status -->
            <div id="notification" class="notification">
                <div id="notification-message"></div>
            </div>
        </div>

    </main>
</body>

</html>